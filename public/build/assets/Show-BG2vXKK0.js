import{j as s,a as v,J as r}from"./app-bV1oKjKy.js";import{P as w}from"./PortalLayout-u-5QNYDI.js";import{C,B as c}from"./warning-DViRBwvh.js";import{R as t}from"./Row-B4t5VXUr.js";import{C as i}from"./Col-CcX1xzGs.js";import{C as a}from"./Card-ClEnLKUp.js";import{T as R}from"./Table-M2KRe3ue.js";import{B as y}from"./Badge-DAm-MJP0.js";import{A as g}from"./Alert-QaRNJ3h0.js";import"./useData-Bpd0XriX.js";import"./CloseButton-BYbBlkTD.js";function D({exam:e}){var h,o,x,u,j;const d=((h=e==null?void 0:e.results)==null?void 0:h.length)>0,n=((o=e==null?void 0:e.class_data)==null?void 0:o.length)||0,m=((u=(x=e==null?void 0:e.class_data)==null?void 0:x.filter(l=>l.unpublished_count===0))==null?void 0:u.length)||0;return s.jsxs(w,{children:[s.jsx(v,{title:`${e==null?void 0:e.name} - Results Overview`}),s.jsxs(C,{fluid:!0,children:[s.jsxs(t,{className:"align-items-center mb-4",children:[s.jsx(i,{children:s.jsx("div",{className:"d-flex align-items-center mb-2",children:s.jsxs("div",{className:"",children:[s.jsx("h1",{className:"h3 mb-1 fw-bold text-dark",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-muted mb-0",children:"Exam Results Overview"})]})})}),s.jsx(i,{xs:"auto",children:s.jsx(a,{className:"border-0",children:s.jsx(a.Body,{className:"py-2",children:s.jsxs(t,{className:"g-4 text-center",children:[s.jsxs(i,{children:[s.jsx("div",{className:"h4 mb-0 fw-bold text-primary",children:n}),s.jsx("small",{className:"text-muted",children:"Classes"})]}),s.jsxs(i,{children:[s.jsx("div",{className:"h4 mb-0 fw-bold text-success",children:m}),s.jsx("small",{className:"text-muted",children:"Published"})]}),s.jsxs(i,{children:[s.jsx("div",{className:"h4 mb-0 fw-bold text-warning",children:n-m}),s.jsx("small",{className:"text-muted",children:"Pending"})]})]})})})})]}),s.jsx("hr",{className:"dashed-hr"}),s.jsx(t,{children:s.jsx(i,{children:s.jsx(a,{className:"shadow-sm border-0",children:s.jsx(a.Body,{children:d?s.jsx(R,{responsive:!0,hover:!0,striped:!0,borderless:!0,className:"border mb-0",children:s.jsx("tbody",{children:(j=e.class_data)==null?void 0:j.map((l,B)=>{var b,p,N,f;return s.jsxs("tr",{children:[s.jsx("td",{className:"ps-4 py-3",children:s.jsxs("div",{children:[s.jsxs("h6",{className:"mb-1 fw-semibold text-capitalize",children:[s.jsx("i",{className:"bi bi-building me-2 text-muted"}),(b=l.class)==null?void 0:b.name]}),s.jsxs("small",{className:"text-muted",children:["Class ID:"," ",(p=l.class)==null?void 0:p.id]})]})}),s.jsx("td",{className:"py-3 text-center",children:s.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[s.jsx("i",{className:"bi bi-people me-2 text-muted"}),s.jsx("span",{className:"fw-medium",children:l.students_count}),s.jsx("small",{className:"text-muted ms-1",children:"students"})]})}),s.jsx("td",{className:"py-3 text-center",children:l.unpublished_count>0?s.jsxs(y,{bg:"warning",className:"px-3 py-2",children:[s.jsx("i",{className:"bi bi-x-circle me-1"}),l.unpublished_count," ","Unpublished"]}):s.jsxs(y,{bg:"success",className:"px-3 py-2",children:[s.jsx("i",{className:"bi bi-check-circle me-1"}),"Published"]})}),s.jsx("td",{className:"pe-4 py-3 text-end",children:s.jsxs(c,{as:r,href:route("admin.result.analyze",{exam:e.id,class:(N=l.class)==null?void 0:N.id}),variant:"outline-primary",size:"sm",className:"me-2",children:[s.jsx("i",{className:"bi bi-graph-up me-2"}),"Analyze"]})})]},(f=l.class)==null?void 0:f.id)})})}):s.jsxs("div",{className:"text-center py-5",children:[s.jsx("i",{className:"bi bi-inbox display-1 text-muted opacity-50 mb-3"}),s.jsx("h5",{className:"text-muted mb-2",children:"No Results Found"}),s.jsx("p",{className:"text-muted mb-4 mx-auto",style:{maxWidth:"400px"},children:"No exam results have been recorded yet. Start by entering students' results for this exam."}),s.jsxs(c,{as:r,href:route("admin.result.create"),variant:"primary",size:"lg",className:"me-3",children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Enter Results"]}),s.jsxs(c,{as:r,href:"#",variant:"outline-secondary",size:"lg",children:[s.jsx("i",{className:"bi bi-upload me-2"}),"Bulk Upload"]})]})})})})}),!d&&s.jsx(t,{className:"mt-4",children:s.jsx(i,{children:s.jsxs(g,{variant:"info",className:"border-0 shadow-sm",children:[s.jsxs(g.Heading,{className:"d-flex align-items-center",children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),"Getting Started with Exam Results"]}),s.jsxs(t,{children:[s.jsx(i,{md:6,children:s.jsxs("ul",{className:"mb-0",children:[s.jsx("li",{children:"Ensure all students are properly enrolled in their respective classes"}),s.jsx("li",{children:"Use the bulk upload feature for faster result entry"})]})}),s.jsx(i,{md:6,children:s.jsxs("ul",{className:"mb-0",children:[s.jsx("li",{children:"Review results before publishing to parents and students"}),s.jsx("li",{children:"Set up automatic notifications for result publication"})]})})]})]})})})]})]})}export{D as default};
